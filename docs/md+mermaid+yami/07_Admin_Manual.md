# מדריך למנהל מערכת - EcoShower

## סקירה כללית
**פאנל הניהול** מספק ניהול מרכזי למערכת EcoShower. הוא מאפשר למנהלים לצפות בסטטיסטיקות של כל המערכת, לנהל משתמשים ולנטר פעילות מכשירים.

**דרישת קדם**: עליכם להיות מחוברים עם חשבון בעל הרשאת `admin`.

## גישה לפאנל
1.  התחברו לאפליקציה.
2.  אם אתם מנהלים, קישור **"Admin Dashboard"** (אייקון מגן) יופיע בניווט.
3.  לחצו עליו כדי להיכנס לאזור הניהול.

## סטטיסטיקות דשבורד
החלק העליון מציג נתונים בזמן אמת של המערכת:
*   **משתמשים**: סה״כ חשבונות רשומים.
*   **מכשירים**: סה״כ מכשירים חכמים רשומים.
*   **מקלחות**: סה״כ מפגשי מקלחת שהושלמו אצל כל המשתמשים.
*   **ליטרים שנצרכו**: סה״כ צריכת מים שתועדה במערכת.

## גרף פעילות
*   **"פעילות כל הזמן"**: גרף קו המציג מגמות יומיות.
    *   **קו ירוק**: מספר מקלחות.
    *   **קו כחול**: שימוש במים (ליטרים).
*   רחפו מעל הנקודות כדי לראות מספרים מדויקים לתאריך ספציפי.

## ניהול משתמשים
**טבלת המשתמשים** מציגה את כל החשבונות הרשומים.

### עמודות
*   **שם**: שם התצוגה של המשתמש.
*   **אימייל**: כתובת האימייל הרשומה.
*   **תפקיד**: `Admin` (סגול) או `User` (אפור).
*   **מכשירים**: מספר המכשירים בבעלות המשתמש.
*   **מקלחות**: מספר המפגשים שהושלמו.
*   **פעולות**: כפתורי שליטה לניהול המשתמש.

### פעולות
1.  **קידום/הורדה בדרגה**:
    *   לחצו על אייקון **המגן הכחול** כדי **לקדם** משתמש ל-Admin.
    *   לחצו על אייקון **המגן הכתום** כדי **להוריד** Admin ל-User.
    *   *הערה*: פעולה זו מעדכנת את ההרשאות שלהם באופן מיידי.
2.  **סינון סטטיסטיקות (Show Data)**:
    *   לחצו על כפתור **"Show Data"** בשורה של משתמש כלשהו.
    *   סטטיסטיקות הדשבורד וגרף הפעילות יתעדכנו להציג **רק** את הפעילות של אותו משתמש.
    *   כדי לנקות את הסינון, לחצו על כפתור **"Clear Filter"** בראש העמוד.
3.  **מחיקת משתמש**:
    *   לחצו על אייקון **הפח האדום**.
    *   אשרו את הדיאלוג ("Are you sure you want to delete...?").
    *   *אזהרה*: פעולה זו מסירה לצמיתות את המשתמש, המכשירים שלו וההיסטוריה שלו ממסד הנתונים ומ-Cognito.

## פתרון תקלות
*   **נתונים לא נטענים?**: לחצו על אייקון **הרענון** בפינה הימנית/שמאלית העליונה.
*   **תפקיד לא מתעדכן?**: וודאו שלפונקציות ה-Lambda ב-Backend (`EcoShower-API`) יש את הרשאות ה-IAM המתאימות ל-Cognito.
